<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: produtos.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: produtos.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>document.addEventListener('DOMContentLoaded', function () {

    document.getElementById('nome-funcionario').innerText = localStorage.getItem("user");
    document.getElementById('funcao-funcionario').innerText = "GERENTE";

    const apiUrl = 'http://localhost:8080/produto';

    /**
     * Função para criar novo card de produto
     * @param {Object} produto - dados do produto
     * @returns card de produto
     */
    function criarCardProduto(produto) {
        const card = document.createElement('div');
        card.className = 'col-3';
        card.innerHTML = `
            &lt;div class="card" style="width: 18rem;">
                &lt;img src="assets/img/foto_produto.png" class="card-img-top" alt="${produto.nome}"> 
                &lt;div class="card-body">
                    &lt;h5 class="card-title">${produto.nome}&lt;/h5>
                    &lt;p class="card-text">R$${produto.precoVenda},00&lt;/p>
                    &lt;p class="card-text">Quantidade em estoque: ${produto.quantidade}&lt;/p>
                &lt;/div>
            &lt;/div>
        `;
        return card;
    }

    /**
     * Função para carregar produtos e preencher a página
     */
    async function carregarProdutos() {
        const response = await fetch(apiUrl, {
            method: "GET",
            headers: {
                'Authorization': 'Bearer ' + localStorage.getItem('accessToken')
            }

        })
            .then(response => response.json())
            .then(data => {
                const container = document.querySelector('.container.row');
                data.forEach(produto => {
                    const card = criarCardProduto(produto);
                    container.appendChild(card);
                });
            })
            .catch(error => console.error('Erro ao carregar produtos:', error));
    }

    // Carregar os produtos ao carregar a página
    carregarProdutos();
});

/**
 * Função para exibir ou ocultar a seção de logout
 */
function toggleLogout() {
    var logoutSection = document.getElementById('logoutSection');

    // Toggle visibility of logout section
    if (logoutSection.style.display === 'none') {
        logoutSection.style.display = 'block';
    } else {
        logoutSection.style.display = 'none';
    }
}

/**
 * Função para realizar logout do sistema
 */
function logout() {
    localStorage.removeItem('token');
    window.location.href = 'login.html';
}

document.getElementById('infoSection').addEventListener('click', function () {
    toggleLogout();
});</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#adicionarProduto">adicionarProduto</a></li><li><a href="global.html#atualizarDadosUsuario">atualizarDadosUsuario</a></li><li><a href="global.html#botao">botao</a></li><li><a href="global.html#botaoVoltar">botaoVoltar</a></li><li><a href="global.html#convertToFloat">convertToFloat</a></li><li><a href="global.html#criarCardProduto">criarCardProduto</a></li><li><a href="global.html#fetchDashboardData">fetchDashboardData</a></li><li><a href="global.html#logout">logout</a></li><li><a href="global.html#myChart">myChart</a></li><li><a href="global.html#myHorizontalBarChart">myHorizontalBarChart</a></li><li><a href="global.html#myLineChart">myLineChart</a></li><li><a href="global.html#toggleLogout">toggleLogout</a></li><li><a href="global.html#updateDashboardMetrics">updateDashboardMetrics</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.3</a> on Sun Jul 28 2024 21:01:20 GMT-0300 (Horário Padrão de Brasília)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
